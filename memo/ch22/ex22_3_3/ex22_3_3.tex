%!TEX encoding = UTF-8
\documentclass[12pt,landscape]{ujarticle}
\usepackage{bussproofs}
\usepackage{amssymb}
\usepackage{lscape}
\usepackage[a3paper,top=30truemm,bottom=30truemm,left=25truemm,right=25truemm]{geometry}

\let\emptyset\varnothing
\def\fCenter{\ \vdash\ }
\def\lamdot{.\ }
\def\cl{\ \colon}

\begin{document}

\title{Exercise 22.3.3(*)}
\author{shinya yamaguchi}
\date{2019/11/11}
\maketitle

\begin{prooftree}
    \AxiomC{$x \cl T_{11} \in x \cl X, y \cl Y, z \cl Z$}
    \RightLabel{CT-VAR}
    \UnaryInfC{$x \cl X, y \cl Y, z \cl Z \fCenter x \cl T_{11} \ \mid_{\chi_{11}} C_{11}$}
    
    \AxiomC{$z \cl T_{12} \in x \cl X, y \cl Y, z \cl Z$}
    \RightLabel{CT-VAR}
    \UnaryInfC{$x \cl X, y \cl Y, z \cl Z \fCenter z \cl T_{12} \ \mid_{\chi_{12}} C_{12}$}
    \RightLabel{CT-APP}
    \BinaryInfC{$x \cl X, y \cl Y, z \cl Z \fCenter (x\ z) \cl T_{1} \ \mid_{\chi_{1}} C_{1}$}
    
    \AxiomC{$y \cl T_{21} \in x \cl X, y \cl Y, z \cl Z$}
    \RightLabel{CT-VAR}
    \UnaryInfC{$x \cl X, y \cl Y, z \cl Z \fCenter y \cl T_{21} \ \mid_{\chi_{21}} C_{21}$}
    
    \AxiomC{$z \cl T_{22} \in x \cl X, y \cl Y, z \cl Z$}
    \RightLabel{CT-VAR}
    \UnaryInfC{$x \cl X, y \cl Y, z \cl Z \fCenter z \cl T_{22} \ \mid_{\chi_{22}} C_{22}$}
    \RightLabel{CT-APP}
    \BinaryInfC{$x \cl X, y \cl Y, z \cl Z \fCenter (y\ z) \cl T_{2} \ \mid_{\chi_{2}} C_{2}$}
    
    \RightLabel{CT-APP}
    \BinaryInfC{$x \cl X, y \cl Y, z \cl Z \fCenter (x\ z)\ (y\ z) \cl S \ \mid_{\chi} C$}
    
    \RightLabel{CT-ABS}
    \UnaryInfC{$x \cl X, y \cl Y \fCenter \lambda z \cl Z\lamdot (x\ z)\ (y\ z) \cl S \ \mid_{\chi} C$}
    
    \RightLabel{CT-ABS}
    \UnaryInfC{$x \cl X \fCenter \lambda y \cl Y\lamdot \lambda z \cl Z\lamdot (x\ z)\ (y\ z) \cl S \ \mid_{\chi} C$}
    
    \RightLabel{CT-ABS}
    \UnaryInfC{$ \fCenter \lambda x \cl X\lamdot \lambda y \cl Y\lamdot \lambda z \cl Z\lamdot (x\ z)\ (y\ z) \cl S \ \mid_{\chi} C$}
\end{prooftree}

\hrulefill

\begin{prooftree}
    \AxiomC{$x \cl X \in x \cl X, y \cl Y, z \cl Z$}
    \RightLabel{CT-VAR}
    \UnaryInfC{$x \cl X, y \cl Y, z \cl Z \fCenter x \cl X \ \mid_{\emptyset} \{\}$}
    
    \AxiomC{$z \cl Z \in x \cl X, y \cl Y, z \cl Z$}
    \RightLabel{CT-VAR}
    \UnaryInfC{$x \cl X, y \cl Y, z \cl Z \fCenter z \cl Z \ \mid_{\emptyset} \{\}$}
    \RightLabel{CT-APP}
    \BinaryInfC{$x \cl X, y \cl Y, z \cl Z \fCenter (x\ z) \cl T_{1} \ \mid_{\{T_{1}\}} \{X=Z\rightarrow T_{1}\}$}
    
    \AxiomC{$y \cl Y \in x \cl X, y \cl Y, z \cl Z$}
    \RightLabel{CT-VAR}
    \UnaryInfC{$x \cl X, y \cl Y, z \cl Z \fCenter y \cl Y \ \mid_{\emptyset} \{\}$}
    
    \AxiomC{$z \cl Z \in x \cl X, y \cl Y, z \cl Z$}
    \RightLabel{CT-VAR}
    \UnaryInfC{$x \cl X, y \cl Y, z \cl Z \fCenter z \cl Z \ \mid_{\emptyset} \{\}$}
    \RightLabel{CT-APP}
    \BinaryInfC{$x \cl X, y \cl Y, z \cl Z \fCenter (y\ z) \cl T_{2} \ \mid_{\{T_{2}\}} \{Y=Z\rightarrow T_{2}\}$}
    
    \RightLabel{CT-APP}
    \BinaryInfC{$x \cl X, y \cl Y, z \cl Z \fCenter (x\ z)\ (y\ z) \cl S \ \mid_{\{T_{1}, T_{2}, S\}} \{X=Z\rightarrow T_{1}, Y=Z\rightarrow T_{2}, T_{1}=T_{2}\rightarrow S\}$}
    
    \RightLabel{CT-ABS}
    \UnaryInfC{$x \cl X, y \cl Y \fCenter \lambda z \cl Z\lamdot (x\ z)\ (y\ z) \cl Z \rightarrow S \ \mid_{\{T_{1}, T_{2}, S\}} \{X=Z\rightarrow T_{1}, Y=Z\rightarrow T_{2}, T_{1}=T_{2}\rightarrow S\}$}
    
    \RightLabel{CT-ABS}
    \UnaryInfC{$x \cl X \fCenter \lambda y \cl Y\lamdot \lambda z \cl Z\lamdot (x\ z)\ (y\ z) \cl Y \rightarrow (Z \rightarrow S) \ \mid_{\{T_{1}, T_{2}, S\}} \{X=Z\rightarrow T_{1}, Y=Z\rightarrow T_{2}, T_{1}=T_{2}\rightarrow S\}$}
    
    \RightLabel{CT-ABS}
    \UnaryInfC{$ \fCenter \lambda x \cl X\lamdot \lambda y \cl Y\lamdot \lambda z \cl Z\lamdot (x\ z)\ (y\ z) \cl X \rightarrow (Y \rightarrow (Z \rightarrow S)) \ \mid_{\{T_{1}, T_{2}, S\}} \{X=Z\rightarrow T_{1}, Y=Z\rightarrow T_{2}, T_{1}=T_{2}\rightarrow S\}$}
\end{prooftree}

\end{document}
